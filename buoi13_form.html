<!-- buoi13_form.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buoi 13 Form</title>
</head>
<body>
    <form action="" onsubmit="return kiemTra()">
        <div>
            <input
                placeholder="Nhập tên"
                id="ten"
                oninput="thayDoiTen()"
            >
        </div>
        <p id="loi-ten"></p>
        <div>
            <input
                placeholder="Nhập Email"
                id="email"
                oninput="thayDoiEmail()"
            >
        </div>
        <p id="loi-email"></p>
        <div>
            <input
                placeholder="Nhập SDT"
                id="sdt"
                oninput="thayDoiSDT()"
            >
        </div>
        <p id="loi-sdt"></p>
        <div><button>Gửi</button></div>
    </form>
    <script>
        function query(chuoi) {
            return document.querySelector(chuoi);
        }
        var inpTen = query('#ten');
        var loiTen = query('#loi-ten');
        var inpEmail = query('#email');
        var loiEmail = query('#loi-email');
        var inpSDT = query('#sdt');
        var loiSDT = query('#loi-sdt');

        function kiemTraRong(value, doiTuongTheLoi) {
            if (value == '') {
                doiTuongTheLoi.innerHTML = 'Vui lòng nhập';
                return false;
            } else {
                doiTuongTheLoi.innerHTML = '';
                return true;
            }
        }

        function kiemTraDoDai(
            value,
            doiTuongTheLoi,
            min = 8, max = 64
        ) {
            if (value.length < min || value.length > max ) {
                doiTuongTheLoi.innerHTML = 'Lỗi độ dài';
                return false;
            } else {
                doiTuongTheLoi.innerHTML = '';
                return true;
            }
        }

        // function kiemTraTenRong() {
        //     var tenVal = inpTen.value;
        //     if (tenVal == '') {
        //         loiTen.innerHTML = 'Vui lòng nhập tên';
        //         return false;
        //     } else {
        //         loiTen.innerHTML = '';
        //         return true;
        //     }
        // }

        // function kiemTraEmailRong() {
        //     var emailVal = inpEmail.value;
        //     if (emailVal == '') {
        //         loiEmail.innerHTML = 'Vui lòng nhập email';
        //         return false;
        //     } else {
        //         loiEmail.innerHTML = '';
        //         return true;
        //     }
        // }

        function thayDoiTen() {
            return (
            kiemTraRong(inpTen.value, loiTen) &&
            kiemTraDoDai(inpTen.value, loiTen, 10, 20));
        }

        function thayDoiEmail() {
            // kiemTraEmailRong();
            return kiemTraRong(inpEmail.value, loiEmail);
        }

        function thayDoiSDT() {
            // kiemTraEmailRong();
            return kiemTraRong(inpSDT.value, loiSDT);
        }
        function kiemTra() {
            var khongCoLoi = true;
            khongCoLoi = thayDoiTen();
            khongCoLoi = thayDoiEmail();
            khongCoLoi = thayDoiSDT();
            return khongCoLoi;
        }
    </script>
</body>
</html>
